<!DOCTYPE html>
<html>

    <head>
        <title>BooksReviews - Profilo</title>

        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://bootswatch.com/4/darkly/bootstrap.min.css">
        <link href="https://use.fontawesome.com/releases/v5.0.6/css/all.css" rel="stylesheet">
        <link rel="stylesheet" href="css/style.css">
        <%- include('inc/libraries'); %>
        <%- include('inc/authRequired'); %>
    </head>

    <body onload="fillForm()">
        <%- include('inc/navbar'); %>

        <script>
            function fillForm() {
                console.log(user());

                $('#emailinput').val(user().email)
                $('#nomeinput').val(user().name)
                $('#cognomeinput').val(user().surname)
                $('#telefonoinput').val(user().phone)
            }

        </script>

        <div class="container">
            <br><br><br><br><br>

            <div class="row">
                <h3>Il tuo profilo</h3>
            </div>

            <br>
            <button class="btn btn-success" type="submit" onclick="logout()">Logout</button>
            <br><br>

            <div class="row">
                <h3>Aggiorna i tuoi dati</h3>
            </div>

            <form>
            <div class="form-group">
                <label for="emailinput">Indirizzo email</label>
                <input type="email" class="form-control" id="emailinput" aria-describedby="emailHelp" placeholder="Inserisci email" value="" disabled></input>
                <small id="emailHelp" class="form-text text-muted">Non Ã¨ possibile modificare questo campo.</small>
            </div>
            <div class="form-group">
                <label for="passwordinput">Password</label>
                <input type="password" class="form-control" id="passwordinput" placeholder="Password">                
            </div>
            <div class="form-group">
                <label for="nomeinput">Nome</label>
                <input type="text" class="form-control" id="nomeinput" placeholder="Nome">
            </div>
            <div class="form-group">
                <label for="cognomeinput">Cognome</label>
                <input type="text" class="form-control" id="cognomeinput" placeholder="Cognome">
            </div>
            <div class="form-group">
                <label for="telefonoinput">Telefono</label>
                <input type="tel" class="form-control" id="telefonoinput" placeholder="Telefono">
                <small id="telefonohelp" class="form-text text-muted">Campo opzionale.</small>
            </div>
            <button type="button" onclick="updateInfo($('#emailinput').val(), $('#passwordinput').val(), $('#nomeinput').val(), $('#cognomeinput').val(), $('#telefonoinput').val());" class="btn btn-primary">Salva ed esci</button>
            </form>
        </div>
    </body>
</html>
