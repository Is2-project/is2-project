

<html>

<head>
    <title>BooksReviews - Aggiungi Recensione</title>

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://bootswatch.com/4/darkly/bootstrap.min.css">
    <link href="https://use.fontawesome.com/releases/v5.0.6/css/all.css" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://bootswatch.com/_vendor/bootstrap/dist/js/bootstrap.min.js"></script>
</head>

<body>
    <div class="container">

    <div class="row">

        <div class="col-sm-12">

            <br><br><br><br><br>
            <h1>Aggiungi Recensione</h1>
            <br><br>

        </div>

        <div class="col-lg-6 offset-lg-3 offset-md-2 col-md-8 col-sm-12">

            <hr>

            <form method="post" id="recForm">

                <h3>Voto:</h3>

                <div class="fieldset">

                    <div class="btn-group btn-group-toggle my-2" data-toggle="buttons">
                        <label class="btn btn-primary">
                            <input type="radio" name="voto" id="voto1" value="1" autocomplete="off"> 1
                        </label>
                        <label class="btn btn-primary">
                            <input type="radio" name="voto" id="voto2" value="2" autocomplete="off"> 2
                        </label>
                        <label class="btn btn-primary">
                            <input type="radio" name="voto" id="voto3" value="3" autocomplete="off"> 3
                        </label>
                        <label class="btn btn-primary">
                            <input type="radio" name="voto" id="voto4" value="4" autocomplete="off"> 4
                        </label>
                        <label class="btn btn-primary">
                            <input type="radio" name="voto" id="voto5" value="5" autocomplete="off"> 5
                        </label>
                    </div>

                    <div class="form-group has-danger">
                        <label for="recensione" class="form-control-label">Recensione</label>
                        <textarea class="form-control" name="recensione" id="recensione" rows="10"></textarea>
                        <div class="invalid-feedback" id="recensioneError">Campo obbligatorio!</div>
                    </div>

                    <div class="form-group">
                        <button class="btn btn-success" type="button" onclick="formValidation()">Aggiungi</button>
                        <a class="btn btn-danger">Annulla</a>
                    </div>

                </div>

            </form>

        </div>

    </div>

</div>

<script>

    //form validation

    function requiredItem (str) {
        val = $("#"+str);
        if(val.val() === "") {
            $("#"+str+"Error").text("Campo obbligatorio!");
            val.addClass("is-invalid");
            return false;
        }
        else {
            val.removeClass("is-invalid");
            return true;
        }
    };


    $("#recensione").focusout( function () { requiredItem("recensione") } );

    function formValidation () {
        if(requiredItem("recensione"))
            $("#recForm").submit();
    }

    $("#recForm").keypress(function (event) {
        if (event.which === 13 || event.keyCode === 13) {
            formValidation();
            return false;
        }
        return true;
    });

</script>

</body>

</html>
